{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '42729601-bb8f3cd30c047f14b18874640';\n\nexport function getPhotos(q) {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${BASE_URL}/?${params}`).then(res => {\n    if (!res.ok) {\n      throw new Error(res.status);\n    }\n    return res.json();\n  });\n}\n","// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\nexport const lightbox = new SimpleLightbox('.photos-list a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nfunction renderPhoto({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return `\n        <li class=\"photos__item\">\n          <a\n            class=\"photos__link\"\n            href=\"${largeImageURL}\"\n          >\n            <img\n              class=\"photos__image\"\n              src=\"${webformatURL}\"\n              alt=\"${tags}\"\n              \n            />\n          </a>\n         <span class=\"photos-info\">\n            <p class=\"text-center\">Likes <span class=\"photos-text\">${likes}</span></p>\n            <p class=\"text-center\">Views <span class=\"photos-text\">${views}</span></p> \n            <p class=\"text-center\">Comments <span class=\"photos-text\">${comments}</span></p>\n            <p class=\"text-center\">Downloads <span class=\"photos-text\">${downloads}</span></p>\n         </span>\n        </li>\n      `;\n}\n\nfunction renderPhotos(arr) {\n  return arr.map(renderPhoto).join('');\n}\n\nexport function renderMarkup(photoEl, arr) {\n  photoEl.innerHTML = renderPhotos(arr);\n}\n\nexport function refreshLightbox() {\n  lightbox.refresh();\n}\n\n//  <p>largeImageURL: '${largeImageURL}',</p>\n//           <p>tags: '${tags}',</p>\n","// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { getPhotos } from './js/pixabay-api';\nimport { renderMarkup, refreshLightbox, lightbox } from './js/render-functions';\n\nconst formEl = document.querySelector('.js-hero-form');\nconst photoEl = document.querySelector('.photos-list');\nconst loaderEl = document.querySelector('.loader');\n\nformEl.addEventListener('submit', e => {\n  e.preventDefault();\n  showLoader();\n\n  photoEl.innerHTML = '';\n\n  const userSearch = e.target.elements.query.value.trim();\n\n  getPhotos(userSearch)\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          title: 'Error',\n          titleColor: '#fff',\n          messageColor: '#fff',\n          backgroundColor: '#ef4040',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n      }\n      renderMarkup(photoEl, data.hits);\n      refreshLightbox();\n    })\n    .catch(error => {\n      console.error(error);\n    })\n    .finally(() => {\n      hideLoader();\n    });\n\n  e.target.reset();\n});\n\nfunction showLoader() {\n  loaderEl.classList.add('visible');\n}\n\nfunction hideLoader() {\n  loaderEl.classList.remove('visible');\n}\n"],"names":["BASE_URL","API_KEY","getPhotos","q","params","res","lightbox","SimpleLightbox","renderPhoto","webformatURL","largeImageURL","tags","likes","views","comments","downloads","renderPhotos","arr","renderMarkup","photoEl","refreshLightbox","formEl","loaderEl","e","showLoader","userSearch","data","iziToast","error","hideLoader"],"mappings":"6vBAAA,MAAMA,EAAW,2BACXC,EAAU,qCAET,SAASC,EAAUC,EAAG,CAC3B,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKH,EACL,EAAAE,EACA,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGH,CAAQ,KAAKI,CAAM,EAAE,EAAE,KAAKC,GAAO,CACjD,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACf,CAAG,CACH,CChBO,MAAMC,EAAW,IAAIC,EAAe,iBAAkB,CAC3D,aAAc,MACd,aAAc,GAChB,CAAC,EAED,SAASC,EAAY,CACnB,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CACD,MAAO;AAAA;AAAA;AAAA;AAAA,oBAIWL,CAAa;AAAA;AAAA;AAAA;AAAA,qBAIZD,CAAY;AAAA,qBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,qEAK4CC,CAAK;AAAA,qEACLC,CAAK;AAAA,wEACFC,CAAQ;AAAA,yEACPC,CAAS;AAAA;AAAA;AAAA,OAIlF,CAEA,SAASC,EAAaC,EAAK,CACzB,OAAOA,EAAI,IAAIT,CAAW,EAAE,KAAK,EAAE,CACrC,CAEO,SAASU,EAAaC,EAASF,EAAK,CACzCE,EAAQ,UAAYH,EAAaC,CAAG,CACtC,CAEO,SAASG,GAAkB,CAChCd,EAAS,QAAO,CAClB,CCvCA,MAAMe,EAAS,SAAS,cAAc,eAAe,EAC/CF,EAAU,SAAS,cAAc,cAAc,EAC/CG,EAAW,SAAS,cAAc,SAAS,EAEjDD,EAAO,iBAAiB,SAAUE,GAAK,CACrCA,EAAE,eAAc,EAChBC,IAEAL,EAAQ,UAAY,GAEpB,MAAMM,EAAaF,EAAE,OAAO,SAAS,MAAM,MAAM,OAEjDrB,EAAUuB,CAAU,EACjB,KAAKC,GAAQ,CACRA,EAAK,KAAK,SAAW,GACvBC,EAAS,MAAM,CACb,MAAO,QACP,WAAY,OACZ,aAAc,OACd,gBAAiB,UACjB,QACE,2EACF,SAAU,UACpB,CAAS,EAEHT,EAAaC,EAASO,EAAK,IAAI,EAC/BN,GACN,CAAK,EACA,MAAMQ,GAAS,CACd,QAAQ,MAAMA,CAAK,CACzB,CAAK,EACA,QAAQ,IAAM,CACbC,GACN,CAAK,EAEHN,EAAE,OAAO,OACX,CAAC,EAED,SAASC,GAAa,CACpBF,EAAS,UAAU,IAAI,SAAS,CAClC,CAEA,SAASO,GAAa,CACpBP,EAAS,UAAU,OAAO,SAAS,CACrC"}